# Создать приложение с графическим интерфейсом со следующими параметрами:
# 1. Название приложения: ФИО автора.
# 2. Создать в приложении 3 вкладки с отступом друг от друга (равномерно распределить по окну)
# Первая вкладка: простой калькулятор для двух чисел (между ними выпадающий список + - * /).
# Вторая вкладка: сделать три чекбокса (Первый Второй Третий)
# И кнопку, при нажатии на нее в зависимости от выбора, выводить всплывающее окно с надписью (например: вы выбрали первый вариант).
# Третья вкладка: работа с текстом, можно текст загрузить файла по кнопке из созданного вами меню.

from tkinter import * # импортирует все из tkinter - модуля для создания GUI
from tkinter import ttk, filedialog, messagebox # импортирует ttk, filedialog (диалоги выбора файлов) и messagebox (диалоги сообщений)


# функция для выполнения вычислений
def calculate():

    num1 = float(entry1.get()) # получает значение из первого поля ввода (entry1), преобразует в число с плавающей точкой
    num2 = float(entry2.get()) # получает значение из второго поля ввода (entry2), преобразует в число с плавающей точкой
    operation = v.get() # получает выбранную операцию из выпадающего списка

    # проверяет, какая операция выбрана
    if operation == "+": # если "+"
        result = num1 + num2 # вычисляет сумму
    elif operation == "-": # если "-"
        result = num1 - num2 # вычисляет разность
    elif operation == "*": # если "*"
        result = num1 * num2 # вычисляет произведение
    elif operation == "/": # если "/"
        if num2 == 0: # проверяет деление на ноль
            raise ZeroDivisionError # вызывает исключение, если делитель равен нулю
        result = num1 / num2 # вычисляет частное

        messagebox.showinfo("Результат", f"Результат: {result}") # Отображает результат в диалоговом окне

# функция для обработки чекбоксов
def show_selection():
    selected_options = [] # создает пустой список для хранения выбранных опций

    if var1.get() == 1: # проверяет, установлен ли первый чекбокс
        selected_options.append("Первый вариант") # добавляет "Первый вариант" в список, если чекбокс установлен
    if var2.get() == 1: # проверяет, установлен ли второй чекбокс
        selected_options.append("Второй вариант") # добавляет "Второй вариант" в список, если чекбокс установлен
    if var3.get() == 1: # проверяет, установлен ли третий чекбокс
        selected_options.append("Третий вариант") # добавляет "Третий вариант" в список, если чекбокс установлен

    if selected_options: # Проверяет, есть ли выбранные опции
        messagebox.showinfo("Выбор", "Вы выбрали: " + ", ".join(selected_options)) # отображает выбранные опции
    else:
        messagebox.showinfo("Выбор", "Ничего не выбрано.") # отображает сообщение, если ничего не выбрано


# функция для загрузки текста из файла
def load_text():
    file_path = filedialog.askopenfilename(filetypes=[("Text Files", "*.txt"), ("All Files", "*.*")]) # открывает диалоговое окно для выбора файла
    if file_path: # проверяет, был ли выбран файл

        with open(file_path, 'r', encoding='utf-8') as file: # открывает выбранный файл для чтения с кодировкой UTF-8
            text = file.read() # читает содержимое файла
        text_area.delete(1.0, END) # очищает текстовое поле
        text_area.insert(END, text) # вставляет текст из файла в текстовое поле



# основное окно
window = Tk() # cоздает главное окно
window.title("Штаньков Даниил Александрович") # устанавливает заголовок окна
window.geometry('850x400') #  устанавливает размер окна
tab_control = ttk.Notebook(window) # уоздает объект Notebook (вкладки)

# первая вкладка - калькулятор
tab1 = ttk.Frame(tab_control) # создает фрейм для первой вкладки
tab_control.add(tab1, text='Первая') # добавляет первую вкладку в Notebook

# элементы калькулятора
entry1 = Entry(tab1, width=10) # создает первое поле ввода
entry1.pack(side=LEFT, padx=5, pady=20) # размещает первое поле ввода

operations = ["+", "-", "*", "/"] # список доступных операций
v = StringVar() # создает переменную для хранения выбранной операции
v.set(operations[0]) # устанавливает операцию "+" по умолчанию
dropdown = OptionMenu(tab1, v, *operations) # создает выпадающий список операций
dropdown.pack(side=LEFT, padx=5) # размещает выпадающий список

entry2 = Entry(tab1, width=10) # создает второе поле ввода
entry2.pack(side=LEFT, padx=5) # размещает второе поле ввода

button = Button(tab1, text="=", command=calculate, width=2) # создает кнопку "="
button.pack(side=LEFT, padx=5) # размещает кнопку

# вторая вкладка
tab2 = ttk.Frame(tab_control) # создает фрейм для второй вкладки
tab_control.add(tab2, text='Вторая') # добавляет вторую вкладку в Notebook

# чекбоксы
var1 = IntVar() # создает переменную для первого чекбокса
var2 = IntVar() # создает переменную для второго чекбокса
var3 = IntVar() # создает переменную для третьего чекбокса

check1 = Checkbutton(tab2, text="Первый", variable=var1) # создает первый чекбокс
check1.pack(anchor=W) # размещает первый чекбокс

check2 = Checkbutton(tab2, text="Второй", variable=var2) # создает второй чекбокс
check2.pack(anchor=W) # размещает второй чекбокс

check3 = Checkbutton(tab2, text="Третий", variable=var3) # создает третий чекбокс
check3.pack(anchor=W) # размещает третий чекбокс

# кнопка для отображения выбранных опций
button_show = Button(tab2, text="Показать выбор", command=show_selection) # создает кнопку "Показать выбор"
button_show.pack(pady=10) # размещает кнопку

# третья вкладка
tab3 = ttk.Frame(tab_control) # создает фрейм для третьей вкладки
tab_control.add(tab3, text='Третья') # добавляет третью вкладку в Notebook

# текстовое поле для отображения текста
text_area = Text(tab3, wrap=WORD, width=60, height=15) # создает текстовое поле
text_area.pack(padx=10, pady=10) # размещает текстовое поле

# кнопка для загрузки текста из файла
button_load = Button(tab3, text="Загрузить текст из файла", command=load_text) # создает кнопку "Загрузить текст из файла"
button_load.pack(pady=10) # размещает кнопку

# упаковка контроллера вкладок
tab_control.pack(expand=1, fill='both') # размещает Notebook (вкладки) в главном окне

# запуск основного цикла
window.mainloop() # запускает главный цикл Tkinter, который обрабатывает события GUI